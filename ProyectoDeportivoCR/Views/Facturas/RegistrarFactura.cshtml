@model ProyectoDeportivoCR.Models.FacturaModel

@{
    ViewBag.Title = "Registrar Factura";
}

<!-- CSS de Bootstrap -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
<!-- Bootstrap Icons (opcional) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
<link rel="stylesheet" href="~/css/FacturacionEstilos.css" />


<div class="container my-5">
    <div class="form-section mx-auto" style="max-width: 600px;">

        <h1 class="text-center">FORMULARIO DE FACTURACIÓN</h1>
        <p class="text-center">
            Por favor, complete los siguientes campos y adjunte un comprobante para registrar su factura.
        </p>

        @if (ViewBag.Mensaje != null)
        {
            <div class="alert alert-info text-center">
                @ViewBag.Mensaje
            </div>
        }

        <form asp-action="RegistrarFactura" method="post" enctype="multipart/form-data">
            <div asp-validation-summary="ModelOnly" class="text-danger mb-4"></div>

            <!-- Campo: Monto -->
            <label asp-for="Monto" class="form-label">Monto</label>
            <input asp-for="Monto"
                   class="form-control"
                   type="text"
                   placeholder="Ingrese el monto de la factura" />

            <!-- Campo: Fecha y Hora -->
            <label asp-for="FechaHoraFactura" class="form-label">Fecha y Hora</label>
            <input asp-for="FechaHoraFactura"
                   class="form-control"
                   type="datetime-local" />

            <!-- Campo: Descripción del Comprobante -->
            <label asp-for="Comprobante" class="form-label">Descripción del Comprobante</label>
            <input asp-for="Comprobante"
                   class="form-control"
                   type="text"
                   placeholder="Ejemplo: Pago de servicios, compra de productos, etc." />

            <!-- Sección de subida de imagen -->
            <label for="fotoComprobante" class="form-label">Comprobante (imagen)</label>
            <div class="dropzone-container mb-3"
                 onclick="document.getElementById('fotoComprobante').click();">
                <i class="bi bi-upload dropzone-icon"></i>
                <p>Arrastra y suelta tu comprobante aquí</p>
                <p class="text-muted">o haz clic para seleccionar un archivo</p>

                <!-- Input de tipo file oculto -->
                <input asp-for="FotoComprobante"
                       id="fotoComprobante"
                       type="file"
                       class="form-control d-none"
                       aria-describedby="fileHelp" />
            </div>
            <small id="fileHelp" class="form-text text-muted d-block mb-3">
                Formatos permitidos: JPEG, PNG. Tamaño máximo 2MB.
            </small>
            <span asp-validation-for="FotoComprobante" class="text-danger"></span>

            <!-- Campo: ID de Reservación -->
            <label asp-for="ReservacionId" class="form-label">ID de Reservación</label>
            <input asp-for="ReservacionId"
                   class="form-control"
                   type="text"
                   placeholder="Ingrese el ID de Reservación" />

            <!-- Campo: ID de Usuario -->
            <label asp-for="UsuarioId" class="form-label">ID de Usuario</label>
            <input asp-for="UsuarioId"
                   class="form-control"
                   type="text"
                   placeholder="Ingrese el ID del Usuario" />

            <!-- Campo: ID de Método de Pago -->
            <label asp-for="MetodoPagoId" class="form-label">ID de Método de Pago</label>
            <input asp-for="MetodoPagoId"
                   class="form-control"
                   type="text"
                   placeholder="Ingrese el ID del Método de Pago" />

            <!-- Botón de Enviar -->
            <button type="submit"
                    class="btn btn-success btn-submit mt-4">
                Registrar Factura
            </button>
        </form>
    </div>
</div>
